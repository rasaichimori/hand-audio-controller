import{j as k,h as u,k as S,E as _,n as y,H as A,o as R,q as b,t as T,v as d,w as g,i as l,x,S as B}from"./CwB22T1K.js";import{B as N}from"./BhtwuzuQ.js";function F(s,r,t=!1){u&&S();var h=new N(s),i=t?_:0;function a(f,n){if(u){const E=y(s)===A;if(f===E){var c=R();b(c),h.anchor=c,T(!1),h.ensure(f,n),T(!0);return}}h.ensure(f,n)}k(()=>{var f=!1;r((n,c=!0)=>{f=!0,a(c,n)}),f||a(!1,null)},i)}function e(s,r){return s===r||(s==null?void 0:s[B])===r}function H(s={},r,t,h){return d(()=>{var i,a;return g(()=>{i=a,a=[],l(()=>{s!==t(...a)&&(r(s,...a),i&&e(t(...i),s)&&r(null,...i))})}),()=>{x(()=>{a&&e(t(...a),s)&&r(null,...a)})}}),s}export{H as b,F as i};
