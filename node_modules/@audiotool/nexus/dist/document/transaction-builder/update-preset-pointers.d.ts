import { EntityMessage } from '../entity-utils';
import { Pointer } from '../../gen/audiotool/document/v1/pointer_pb';
import { Preset } from '../../gen/audiotool/document/v1/preset/v1/preset_pb';

/** This function prepares the pointers of a new preset. It does two things:
 * * the target entity id of the preset gets replaced with an existing  entity id
 *   of an existing device - we'll update that existing entity
 * * all other entity ids get replaced with fresh uuids, as the preset doesn't have valid
 *   entity ids yet
 *
 *
 * This function assumes that all pointers in the preset are from & to entities in the preset,
 * otherwise this function throws.
 */
export declare const updatePresetPointers: (preset: Preset, newMainId: string) => Preset;
/** Visits all pointers of an entity message. Does _not_ work for `Entity` messages,
 * but the messages contained in the `Entity` messages.
 */
export declare const visitPointers: (of: EntityMessage | unknown, callback: (pointer: Pointer) => void) => void;
