import { DocumentService } from '../../../../gen/audiotool/document/v1/document_service_connect';
import { Transaction } from '../../../../gen/audiotool/document/v1/document_service_pb';
import { RetryingClient } from '../../../../utils/grpc/retrying-client';
import { ValueNotifier } from '../../../../utils/observable-notifier-value';

/** This function creates another function that returns us the next transaction.
 *
 * It does this in a way that's robust towards disconnects; it simply attempts to reconnect
 * until it works again. If something other than a disconnect happens, it throws.
 */
export declare const createReceiveNextTransactionFn: (documentService: RetryingClient<typeof DocumentService>, projectName: string, 
/** set to false if something goes wrong */
isConnected: ValueNotifier<boolean>, backoffMs: number, 
/** used to get an abort signal every time the response iterator is created */
getAbortSignal: () => AbortSignal) => (() => Promise<Transaction>);
