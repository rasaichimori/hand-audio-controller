import { EntityTypeKey } from './entity-utils';
import { Pointer } from '../gen/audiotool/document/v1/pointer_pb';
import { SchemaPath } from '../gen/audiotool/document/v1/utils/path';
import { Hashable, hashSymbol } from '../utils/hash-map';
import { SchemaLocation } from './schema/schema-location';

/** A NexusLocation describes a location in the document, either an entity itself,
 *  or a specific field of an entity.
 *
 * NexusLocations implement the SchemaLocation type, which describes a location
 * in the document schema, and can be used to fetch metadata about fields, such
 * as target types.
 */
export declare class NexusLocation implements SchemaLocation, Hashable {
    #private;
    readonly entityId: string;
    readonly fieldIndex: ReadonlyArray<number>;
    readonly entityType: EntityTypeKey | undefined;
    constructor(entityId?: string | undefined, entityType?: EntityTypeKey | undefined, fieldIndex?: number[]);
    isEmpty(): boolean;
    equals(other: NexusLocation): boolean;
    /** @internal */
    equalsPointer(other: Pointer | undefined): boolean;
    /** @internal Returns a copy of this object with an appended field number. */
    withAppendedFieldNumber(fieldNumber: number): NexusLocation;
    /** @internal */
    withFieldIndex(fieldIndex: ReadonlyArray<number>): NexusLocation;
    /** @internal */
    toPointerMessage(): Pointer;
    get [hashSymbol](): string;
    /** Returns a human readable string representation */
    toString(): string;
    /** @internal clones the location, updating only the id */
    withId(id: string): NexusLocation;
    /** @internal */
    static fromPointerMessage(getEntityType: (id: string) => EntityTypeKey | undefined, pointer: Readonly<Pointer>): NexusLocation;
    /** @internal */
    static fromSchemaPath(entityId: string, path: SchemaPath): NexusLocation;
}
export declare const hashNexusLocation: (entityId: string, fieldIndex: readonly number[]) => string;
